const os = require("os");
var nodemysql;

if (os.platform() === "linux") {
    nodemysql = require("./linux_generic/nodemysql")
}
else if (os.platform() === "win32") {
    nodemysql = require("./win_x64/nodemysql");
}


exports.connect = function(params) {


    var port = params.port;
    var socket = params.socket;
    var flag = params.flag;
    var host = params.host;
    var username = params.username;
    var password = params.password;
    var database = params.database;

    var mysql = nodemysql(host, username, password, database, port, socket, flag);

    var conn = mysql.mysql_real_connect();

    if (conn)
        return mysql;
    else
        return false;

}